<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administração de ONGs - EcoGuardians</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./style_css/adm_ong.css">
</head>
<body>
     <!-- Cabeçalho -->
     <header class="navbar">
        <a href="index.html" class="navbar-brand">EcoGuardians</a>
        <div class="nav-buttons">
            <a href="index.html" class="btn-paginainicial">Página Inicial</a>
        </div>
    </header>

    <!-- Seção de Administração -->
    <section id="admin" class="container my-5 py-4">
        <h2 class="text-center mb-4">Painel de Administração de ONGs</h2>
        <form id="admin-form">
            <!-- Formulário de Atualização de ONGs -->
            <div class="mb-3">
                <label for="ong-name" class="form-label">Nome da ONG:</label>
                <input type="text" id="ong-name" name="ong-name" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="ong-description" class="form-label">Descrição da ONG:</label>
                <textarea id="ong-description" name="ong-description" class="form-control" rows="5" required></textarea>
            </div>

            <div class="mb-3">
                <label for="ong-image" class="form-label">Imagem da ONG:</label>
                <input type="file" id="ong-image" name="ong-image" class="form-control">
            </div>

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary">Salvar Alterações</button>
            </div>
        </form>
        <div class="text-center mt-4">
            <a href="index.html" class="btn btn-secondary">Voltar para a Página Inicial</a>
        </div>

        <!-- Seção de Denúncias Recebidas -->
    <section id="received-reports" class="mt-5">
        <h3 class="text-center mb-4">Denúncias Recebidas</h3>

        <!-- Exemplo de denúncia recebida -->
        <div class="report-card mb-4 p-3">
            <h4>Denúncia de: João Silva</h4>
            <p><strong>Tipo de Denúncia:</strong> Desmatamento</p>
            <p><strong>Localização:</strong> São Paulo, SP</p>
            <p><strong>Data e Hora:</strong> 15/09/2024 - 14:30</p>
            <p><strong>Descrição:</strong> "Árvores estão sendo cortadas em uma área de preservação próxima ao parque central."</p>

            <!-- Imagem ou vídeo da denúncia -->
            <div class="media mt-3">
                <img src="./imagens/denuncia-exemplo.jpg" alt="Imagem da denúncia" class="img-fluid">
                <!-- Ou se for um vídeo -->
                <!-- <video controls src="/videos/denuncia-exemplo.mp4"></video> -->
            </div>

            <!-- Formulário para alterar o status da denúncia -->
            <div class="mt-4">
                <label for="report-status" class="form-label">Status da Denúncia:</label>
                <select id="report-status" class="form-control">
                    <option value="recebida">Denúncia Recebida</option>
                    <option value="em-andamento">Em Andamento</option>
                    <option value="concluida">Concluída</option>
                </select>
            </div>

            <!-- Botão para atualizar o status -->
            <div class="text-center mt-3">
                <button class="btn btn-primary">Atualizar Status</button>
            </div>
        </div>

        <!-- Outras denúncias -->
        <!-- Repetir estrutura de denúncia aqui -->
    </section>

        <!-- Botão de Criar Publicação -->
        <div class="text-center mt-4">
            <button id="create-post-btn" class="btn btn-primary">Criar Publicação</button>
        </div>
    </section>

    <!-- Modal de Criação de Publicação -->
    <div id="create-post-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Criar Nova Publicação</h2>

            <!-- Formulário de Criação de Publicação -->
            <form id="post-form">
                <div class="mb-3">
                    <label for="post-title" class="form-label">Título (Opcional):</label>
                    <input type="text" id="post-title" name="post-title" class="form-control">
                </div>

                <div class="mb-3">
                    <label for="post-content" class="form-label">Escreva um texto:</label>
                    <textarea id="post-content" name="post-content" class="form-control" rows="5" required></textarea>
                </div>

                <div class="mb-3">
                    <label for="post-media" class="form-label">Anexar Imagem ou Vídeo:</label>
                    <input type="file" id="post-media" name="post-media" class="form-control" accept="image/*,video/*">
                    <small>O vídeo deve ter no máximo 3 minutos.</small>
                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary">Publicar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Função para processar a atualização do status da denúncia
        document.querySelectorAll('.report-card').forEach(function (reportCard) {
            reportCard.querySelector('button').addEventListener('click', function () {
                const status = reportCard.querySelector('#report-status').value;
    
                // Simulação de lógica para salvar o novo status
                alert('Status atualizado para: ' + status);
    
                // Aqui você pode implementar lógica para enviar a alteração ao servidor
            });
        });
    </script>

    <script>
        // Modal de Criar Publicação
        const modal = document.getElementById("create-post-modal");
        const createPostBtn = document.getElementById("create-post-btn");
        const closeBtn = document.querySelector(".close-btn");

        // Abre o modal quando o botão é clicado
        createPostBtn.addEventListener("click", () => {
            modal.style.display = "block";
        });

        // Fecha o modal quando o botão de fechar é clicado
        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });

        // Fecha o modal quando o usuário clica fora dele
        window.addEventListener("click", (event) => {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        });

        // Função para processar o envio da publicação
        document.getElementById("post-form").addEventListener("submit", function(event) {
            event.preventDefault();

            // Obter os dados do formulário
            const title = document.getElementById("post-title").value;
            const content = document.getElementById("post-content").value;
            const media = document.getElementById("post-media").files[0];

            // Simulação de lógica de publicação
            alert("Publicação criada com sucesso!");

            // Fecha o modal após a publicação
            modal.style.display = "none";

            // Lógica para redirecionar para a página de índice ou exibir a publicação
        });
    </script>

    <script>
        document.getElementById('admin-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Simulação de atualização de dados - substitua com lógica real
            alert('Alterações salvas com sucesso!');

            // Redirecionar para a página de índice
            window.location.href = 'index.html';
        });
    </script>
</body>
</html>

